{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\JoshG\\\\OneDrive\\\\Projects\\\\react-navigation-dynamic-drawer\\\\navigation\\\\DrawerContent.tsx\";\n\nimport React, { useContext, useEffect } from 'react';\nimport { DrawerContentScrollView } from '@react-navigation/drawer';\nimport { DrawerContext } from \"./DrawerContext\";\nimport DrawerContentItem from \"./DrawerContentItem\";\nimport { SafeAreaView } from 'react-native-safe-area-context';\nimport View from \"react-native-web/dist/exports/View\";\nexport var DrawerContent = function DrawerContent(props) {\n  var _useContext = useContext(DrawerContext),\n      badges = _useContext.badges,\n      screens = _useContext.screens,\n      setDrawerContent = _useContext.setDrawerContent;\n\n  var state = props.state,\n      navigation = props.navigation;\n  var routeNames = state.routeNames,\n      routes = state.routes;\n\n  var navigateTo = function navigateTo(screenName) {\n    navigation.closeDrawer();\n    navigation.navigate(screenName);\n  };\n\n  var parentStack = [];\n  var currentDepth = 0;\n  useEffect(function () {\n    setDrawerContent(navigation, state);\n  });\n  return React.createElement(SafeAreaView, {\n    style: {\n      flex: 1\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }\n  }, React.createElement(DrawerContentScrollView, _extends({\n    bounces: false\n  }, props, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }\n  }), routeNames.map(function (routeName, routeIndex) {\n    var _routes$filter, _parentStack$;\n\n    var currentRoute = (_routes$filter = routes.filter(function (value) {\n      return value.name === routeName;\n    })) == null ? void 0 : _routes$filter[0];\n    var params = currentRoute.params;\n    var _screens$routeIndex = screens[routeIndex],\n        depth = _screens$routeIndex.depth,\n        state = _screens$routeIndex.visibility;\n\n    if (depth > currentDepth) {\n      currentDepth++;\n      parentStack.push(screens[routeIndex - 1]);\n    } else if (depth < currentDepth) {\n      currentDepth--;\n      parentStack.pop();\n    }\n\n    var theHidden = parentStack.filter(function (item) {\n      return item.visibility === 'hidden';\n    });\n    var isVisible = state !== 'hidden' && ((_parentStack$ = parentStack[0]) == null ? void 0 : _parentStack$.visibility) !== 'collapsed' && (depth === 0 || theHidden.length === 0);\n    if (!isVisible) return React.createElement(View, {\n      key: routeName + \"-\" + Math.random(),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 33\n      }\n    });\n    return React.createElement(DrawerContentItem, _extends({}, props, {\n      activeTintColor: params == null ? void 0 : params.activeTintColor,\n      inactiveTintColor: params == null ? void 0 : params.inactiveTintColor,\n      labelText: routeName,\n      iconGroup: params == null ? void 0 : params.iconGroup,\n      iconName: params == null ? void 0 : params.iconName,\n      focusedIconName: params == null ? void 0 : params.focusedIconName,\n      onPress: function onPress() {\n        return navigateTo(routeName);\n      },\n      key: \"route-\" + routeName + \"-\" + Math.random(),\n      badgeText: badges[routeName],\n      style: {\n        marginLeft: 15 * depth\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 25\n      }\n    }));\n  })));\n};","map":{"version":3,"sources":["C:/Users/JoshG/OneDrive/Projects/react-navigation-dynamic-drawer/navigation/DrawerContent.tsx"],"names":["React","useContext","useEffect","DrawerContentScrollView","DrawerContext","DrawerContentItem","SafeAreaView","DrawerContent","props","badges","screens","setDrawerContent","state","navigation","routeNames","routes","navigateTo","screenName","closeDrawer","navigate","parentStack","currentDepth","flex","map","routeName","routeIndex","currentRoute","filter","value","name","params","depth","visibility","push","pop","theHidden","item","isVisible","length","Math","random","activeTintColor","inactiveTintColor","iconGroup","iconName","focusedIconName","marginLeft"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from 'react'\r\nimport {\r\n    DrawerContentScrollView,\r\n    DrawerContentComponentProps,\r\n} from '@react-navigation/drawer'\r\nimport { DrawerContext } from './DrawerContext'\r\nimport DrawerContentItem from './DrawerContentItem'\r\nimport { NavigationElement, NavigationElements, NavigationParams } from './NavigationTypes'\r\nimport { SafeAreaView } from 'react-native-safe-area-context'\r\nimport { Drawer } from 'react-native-paper'\r\nimport { View } from 'react-native'\r\n\r\nexport const DrawerContent = (props: DrawerContentComponentProps) => {\r\n    const { badges, screens, setDrawerContent } = useContext(DrawerContext)\r\n    const { state, navigation } = props;\r\n    const { routeNames, routes } = state\r\n    const navigateTo = (screenName: string) => {\r\n        navigation.closeDrawer()\r\n        navigation.navigate(screenName)\r\n    }\r\n\r\n    let parentStack: NavigationElements = []\r\n    let currentDepth = 0\r\n\r\n    useEffect(() => {\r\n        setDrawerContent(navigation, state)\r\n    })\r\n\r\n    return (\r\n        <SafeAreaView style={{ flex: 1 }}>\r\n            <DrawerContentScrollView bounces={false} {...props}>\r\n                {routeNames.map((routeName, routeIndex) => {\r\n                    const currentRoute = routes.filter(value => value.name === routeName)?.[0]\r\n                    const params = currentRoute.params as NavigationParams\r\n                    const { depth, visibility: state } = screens[routeIndex]                    \r\n                    if (depth > currentDepth) {\r\n                        currentDepth++\r\n                        parentStack.push(screens[routeIndex - 1])\r\n                    }\r\n                    else if (depth < currentDepth) {\r\n                        currentDepth--\r\n                        parentStack.pop()\r\n                    }\r\n                    const theHidden = parentStack.filter((item) => item.visibility === 'hidden')\r\n                    const isVisible =\r\n                        state !== 'hidden' &&\r\n                        parentStack[0]?.visibility !== 'collapsed' &&\r\n                        (depth === 0 || theHidden.length === 0)\r\n                    \r\n                    if (!isVisible)\r\n                        return (<View key={`${routeName}-${Math.random()}`}></View>)\r\n\r\n                    return (\r\n                        <DrawerContentItem\r\n                            {...props}\r\n                            activeTintColor={params?.activeTintColor}\r\n                            inactiveTintColor={params?.inactiveTintColor}\r\n                            labelText={routeName}\r\n                            iconGroup={params?.iconGroup}\r\n                            iconName={params?.iconName}\r\n                            focusedIconName={params?.focusedIconName}\r\n                            onPress={() => navigateTo(routeName)}\r\n                            key={`route-${routeName}-${Math.random()}`}\r\n                            badgeText={badges[routeName] as string}\r\n                            style={{ marginLeft: (15 * depth) }}  // ToDo\r\n                        />\r\n                    )\r\n                })}\r\n            </DrawerContentScrollView>\r\n        </SafeAreaView>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}