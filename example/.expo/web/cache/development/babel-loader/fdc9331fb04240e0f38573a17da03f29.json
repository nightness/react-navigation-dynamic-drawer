{"ast":null,"code":"Object.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _jsxFileName = 'src/components/BaseModal.js';\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactNative = require(\"react-native-web/dist/index\");\n\nvar _DraggableView = require(\"./DraggableView\");\n\nvar _DraggableView2 = _interopRequireDefault(_DraggableView);\n\nvar _ModalContext = require(\"./ModalContext\");\n\nvar _ModalContext2 = _interopRequireDefault(_ModalContext);\n\nvar _Backdrop = require(\"./Backdrop\");\n\nvar _Backdrop2 = _interopRequireDefault(_Backdrop);\n\nvar _Animation = require(\"../animations/Animation\");\n\nvar _Animation2 = _interopRequireDefault(_Animation);\n\nvar _FadeAnimation = require(\"../animations/FadeAnimation\");\n\nvar _FadeAnimation2 = _interopRequireDefault(_FadeAnimation);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar babelPluginFlowReactPropTypes_proptype_ModalProps = require(\"../type\").babelPluginFlowReactPropTypes_proptype_ModalProps || require('prop-types').any;\n\nvar BackHandler = _reactNative.BackHandler || _reactNative.BackAndroid;\nvar MODAL_OPENING = 'opening';\nvar MODAL_OPENED = 'opened';\nvar MODAL_CLOSING = 'closing';\nvar MODAL_CLOSED = 'closed';\nvar DEFAULT_ANIMATION_DURATION = 150;\nvar HARDWARE_BACK_PRESS_EVENT = 'hardwareBackPress';\n\nvar styles = _reactNative.StyleSheet.create({\n  container: _extends({}, _reactNative.StyleSheet.absoluteFillObject),\n  modal: {\n    overflow: 'hidden',\n    backgroundColor: '#ffffff'\n  },\n  hidden: {\n    top: -10000,\n    left: 0,\n    height: 0,\n    width: 0\n  },\n  round: {\n    borderRadius: 8\n  },\n  draggableView: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center'\n  }\n});\n\nvar BaseModal = function (_Component) {\n  _inherits(BaseModal, _Component);\n\n  function BaseModal(props) {\n    _classCallCheck(this, BaseModal);\n\n    var _this = _possibleConstructorReturn(this, (BaseModal.__proto__ || Object.getPrototypeOf(BaseModal)).call(this, props));\n\n    _this.onHardwareBackPress = function () {\n      return _this.props.onHardwareBackPress();\n    };\n\n    _this.handleMove = function (event) {\n      if (_this.state.modalState === MODAL_CLOSING) {\n        return;\n      }\n\n      if (!_this.lastSwipeEvent) {\n        _this.lastSwipeEvent = event;\n      }\n\n      var newOpacity = void 0;\n      var opacity = _this.props.overlayOpacity;\n\n      if (Math.abs(event.axis.y)) {\n        var lastAxis = Math.abs(_this.lastSwipeEvent.layout.y);\n        var currAxis = Math.abs(event.axis.y);\n        newOpacity = opacity - opacity * currAxis / (_reactNative.Dimensions.get('window').height - lastAxis);\n      } else {\n        var _lastAxis = Math.abs(_this.lastSwipeEvent.layout.x);\n\n        var _currAxis = Math.abs(event.axis.x);\n\n        newOpacity = opacity - opacity * _currAxis / (_reactNative.Dimensions.get('window').width - _lastAxis);\n      }\n\n      _this.backdrop.setOpacity(newOpacity);\n    };\n\n    _this.handleSwipingOut = function (event) {\n      _this.isSwipingOut = true;\n\n      _this.props.onSwipingOut(event);\n    };\n\n    _this.state = {\n      modalAnimation: props.modalAnimation || new _FadeAnimation2.default({\n        animationDuration: props.animationDuration\n      }),\n      modalState: MODAL_CLOSED\n    };\n    return _this;\n  }\n\n  _createClass(BaseModal, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      if (this.props.visible) {\n        this.show();\n      }\n\n      BackHandler.addEventListener(HARDWARE_BACK_PRESS_EVENT, this.onHardwareBackPress);\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      if (this.props.visible !== prevProps.visible) {\n        if (this.props.visible) {\n          this.show();\n          return;\n        }\n\n        this.dismiss();\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      BackHandler.removeEventListener(HARDWARE_BACK_PRESS_EVENT, this.onHardwareBackPress);\n    }\n  }, {\n    key: 'show',\n    value: function show() {\n      var _this2 = this;\n\n      this.setState({\n        modalState: MODAL_OPENING\n      }, function () {\n        _this2.state.modalAnimation.in(function () {\n          _this2.setState({\n            modalState: MODAL_OPENED\n          }, _this2.props.onShow);\n        });\n      });\n    }\n  }, {\n    key: 'dismiss',\n    value: function dismiss() {\n      var _this3 = this;\n\n      this.setState({\n        modalState: MODAL_CLOSING\n      }, function () {\n        if (_this3.isSwipingOut) {\n          _this3.setState({\n            modalState: MODAL_CLOSED\n          }, _this3.props.onDismiss);\n\n          return;\n        }\n\n        _this3.state.modalAnimation.out(function () {\n          _this3.setState({\n            modalState: MODAL_CLOSED\n          }, _this3.props.onDismiss);\n        });\n      });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this4 = this;\n\n      var _state = this.state,\n          modalState = _state.modalState,\n          modalAnimation = _state.modalAnimation;\n      var _props = this.props,\n          rounded = _props.rounded,\n          modalTitle = _props.modalTitle,\n          children = _props.children,\n          onTouchOutside = _props.onTouchOutside,\n          hasOverlay = _props.hasOverlay,\n          modalStyle = _props.modalStyle,\n          animationDuration = _props.animationDuration,\n          overlayOpacity = _props.overlayOpacity,\n          useNativeDriver = _props.useNativeDriver,\n          overlayBackgroundColor = _props.overlayBackgroundColor,\n          style = _props.style,\n          footer = _props.footer,\n          onSwiping = _props.onSwiping,\n          onSwipeRelease = _props.onSwipeRelease,\n          onSwipeOut = _props.onSwipeOut,\n          swipeDirection = _props.swipeDirection,\n          swipeThreshold = _props.swipeThreshold;\n      var overlayVisible = hasOverlay && [MODAL_OPENING, MODAL_OPENED].includes(modalState);\n      var round = rounded ? styles.round : null;\n      var hidden = modalState === MODAL_CLOSED && styles.hidden;\n      return _react2.default.createElement(_ModalContext2.default.Provider, {\n        value: {\n          hasTitle: Boolean(modalTitle),\n          hasFooter: Boolean(footer)\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        }\n      }, _react2.default.createElement(_reactNative.View, {\n        pointerEvents: this.isSwipingOut ? 'none' : 'auto',\n        style: [styles.container, hidden],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231\n        }\n      }, _react2.default.createElement(_DraggableView2.default, {\n        style: _reactNative.StyleSheet.flatten([styles.draggableView, style]),\n        onMove: this.handleMove,\n        onSwiping: onSwiping,\n        onRelease: onSwipeRelease,\n        onSwipingOut: this.handleSwipingOut,\n        onSwipeOut: onSwipeOut,\n        swipeDirection: swipeDirection,\n        swipeThreshold: swipeThreshold,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232\n        }\n      }, function (_ref) {\n        var pan = _ref.pan,\n            onLayout = _ref.onLayout;\n        return _react2.default.createElement(_react.Fragment, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 243\n          }\n        }, _react2.default.createElement(_Backdrop2.default, {\n          ref: function ref(_ref2) {\n            _this4.backdrop = _ref2;\n          },\n          pointerEvents: _this4.pointerEvents,\n          visible: overlayVisible,\n          onPress: onTouchOutside,\n          backgroundColor: overlayBackgroundColor,\n          opacity: overlayOpacity,\n          animationDuration: animationDuration,\n          useNativeDriver: useNativeDriver,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 244\n          }\n        }), _react2.default.createElement(_reactNative.Animated.View, {\n          style: pan.getLayout(),\n          onLayout: onLayout,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 256\n          }\n        }, _react2.default.createElement(_reactNative.Animated.View, {\n          style: [styles.modal, round, _this4.modalSize, modalStyle, modalAnimation.getAnimations()],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 260\n          }\n        }, modalTitle, children, footer)));\n      })));\n    }\n  }, {\n    key: 'pointerEvents',\n    get: function get() {\n      var overlayPointerEvents = this.props.overlayPointerEvents;\n      var modalState = this.state.modalState;\n\n      if (overlayPointerEvents) {\n        return overlayPointerEvents;\n      }\n\n      return modalState === MODAL_OPENED ? 'auto' : 'none';\n    }\n  }, {\n    key: 'modalSize',\n    get: function get() {\n      var _Dimensions$get = _reactNative.Dimensions.get('window'),\n          screenWidth = _Dimensions$get.width,\n          screenHeight = _Dimensions$get.height;\n\n      var _props2 = this.props,\n          width = _props2.width,\n          height = _props2.height;\n\n      if (width && width > 0.0 && width <= 1.0) {\n        width *= screenWidth;\n      }\n\n      if (height && height > 0.0 && height <= 1.0) {\n        height *= screenHeight;\n      }\n\n      return {\n        width: width,\n        height: height\n      };\n    }\n  }]);\n\n  return BaseModal;\n}(_react.Component);\n\nBaseModal.defaultProps = {\n  rounded: true,\n  modalTitle: null,\n  visible: false,\n  style: null,\n  animationDuration: DEFAULT_ANIMATION_DURATION,\n  modalStyle: null,\n  width: null,\n  height: null,\n  onTouchOutside: function onTouchOutside() {},\n  onHardwareBackPress: function onHardwareBackPress() {\n    return false;\n  },\n  hasOverlay: true,\n  overlayOpacity: 0.5,\n  overlayPointerEvents: null,\n  overlayBackgroundColor: '#000',\n  onShow: function onShow() {},\n  onDismiss: function onDismiss() {},\n  footer: null,\n  onMove: function onMove() {},\n  onSwiping: function onSwiping() {},\n  onSwipeRelease: function onSwipeRelease() {},\n  onSwipingOut: function onSwipingOut() {},\n  useNativeDriver: true\n};\nBaseModal.propTypes = babelPluginFlowReactPropTypes_proptype_ModalProps;\nexports.default = BaseModal;","map":{"version":3,"sources":["C:/Users/JoshG/OneDrive/Projects/react-navigation-dynamic-drawer/example/node_modules/react-native-modals/dist/components/BaseModal.js"],"names":["Object","defineProperty","exports","value","_jsxFileName","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_extends","assign","arguments","source","hasOwnProperty","call","_react","require","_react2","_interopRequireDefault","_DraggableView","_DraggableView2","_ModalContext","_ModalContext2","_Backdrop","_Backdrop2","_Animation","_Animation2","_FadeAnimation","_FadeAnimation2","obj","__esModule","default","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","babelPluginFlowReactPropTypes_proptype_ModalProps","any","BackHandler","_reactNative","BackAndroid","MODAL_OPENING","MODAL_OPENED","MODAL_CLOSING","MODAL_CLOSED","DEFAULT_ANIMATION_DURATION","HARDWARE_BACK_PRESS_EVENT","styles","StyleSheet","container","absoluteFillObject","modal","overflow","backgroundColor","hidden","top","left","height","width","round","borderRadius","draggableView","flex","justifyContent","alignItems","BaseModal","_Component","_this","getPrototypeOf","onHardwareBackPress","handleMove","event","state","modalState","lastSwipeEvent","newOpacity","opacity","overlayOpacity","Math","abs","axis","y","lastAxis","layout","currAxis","Dimensions","get","_lastAxis","x","_currAxis","backdrop","setOpacity","handleSwipingOut","isSwipingOut","onSwipingOut","modalAnimation","animationDuration","componentDidMount","visible","show","addEventListener","componentDidUpdate","prevProps","dismiss","componentWillUnmount","removeEventListener","_this2","setState","in","onShow","_this3","onDismiss","out","render","_this4","_state","_props","rounded","modalTitle","children","onTouchOutside","hasOverlay","modalStyle","useNativeDriver","overlayBackgroundColor","style","footer","onSwiping","onSwipeRelease","onSwipeOut","swipeDirection","swipeThreshold","overlayVisible","includes","createElement","Provider","hasTitle","Boolean","hasFooter","__source","fileName","lineNumber","View","pointerEvents","flatten","onMove","onRelease","_ref","pan","onLayout","Fragment","ref","_ref2","onPress","Animated","getLayout","modalSize","getAnimations","overlayPointerEvents","_Dimensions$get","screenWidth","screenHeight","_props2","Component","defaultProps","propTypes"],"mappings":"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","sourcesContent":["Object.defineProperty(exports,\"__esModule\",{value:true});var _jsxFileName='src/components/BaseModal.js';var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};var _react=require('react');var _react2=_interopRequireDefault(_react);var _reactNative=require('react-native');var _DraggableView=require('./DraggableView');var _DraggableView2=_interopRequireDefault(_DraggableView);var _ModalContext=require('./ModalContext');var _ModalContext2=_interopRequireDefault(_ModalContext);var _Backdrop=require('./Backdrop');var _Backdrop2=_interopRequireDefault(_Backdrop);var _Animation=require('../animations/Animation');var _Animation2=_interopRequireDefault(_Animation);var _FadeAnimation=require('../animations/FadeAnimation');var _FadeAnimation2=_interopRequireDefault(_FadeAnimation);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var babelPluginFlowReactPropTypes_proptype_ModalProps=require('../type').babelPluginFlowReactPropTypes_proptype_ModalProps||require('prop-types').any;var BackHandler=_reactNative.BackHandler||_reactNative.BackAndroid;var MODAL_OPENING='opening';var MODAL_OPENED='opened';var MODAL_CLOSING='closing';var MODAL_CLOSED='closed';var DEFAULT_ANIMATION_DURATION=150;var HARDWARE_BACK_PRESS_EVENT='hardwareBackPress';var styles=_reactNative.StyleSheet.create({container:_extends({},_reactNative.StyleSheet.absoluteFillObject),modal:{overflow:'hidden',backgroundColor:'#ffffff'},hidden:{top:-10000,left:0,height:0,width:0},round:{borderRadius:8},draggableView:{flex:1,justifyContent:'center',alignItems:'center'}});var BaseModal=function(_Component){_inherits(BaseModal,_Component);function BaseModal(props){_classCallCheck(this,BaseModal);var _this=_possibleConstructorReturn(this,(BaseModal.__proto__||Object.getPrototypeOf(BaseModal)).call(this,props));_this.onHardwareBackPress=function(){return _this.props.onHardwareBackPress();};_this.handleMove=function(event){if(_this.state.modalState===MODAL_CLOSING){return;}if(!_this.lastSwipeEvent){_this.lastSwipeEvent=event;}var newOpacity=void 0;var opacity=_this.props.overlayOpacity;if(Math.abs(event.axis.y)){var lastAxis=Math.abs(_this.lastSwipeEvent.layout.y);var currAxis=Math.abs(event.axis.y);newOpacity=opacity-opacity*currAxis/(_reactNative.Dimensions.get('window').height-lastAxis);}else{var _lastAxis=Math.abs(_this.lastSwipeEvent.layout.x);var _currAxis=Math.abs(event.axis.x);newOpacity=opacity-opacity*_currAxis/(_reactNative.Dimensions.get('window').width-_lastAxis);}_this.backdrop.setOpacity(newOpacity);};_this.handleSwipingOut=function(event){_this.isSwipingOut=true;_this.props.onSwipingOut(event);};_this.state={modalAnimation:props.modalAnimation||new _FadeAnimation2.default({animationDuration:props.animationDuration}),modalState:MODAL_CLOSED};return _this;}_createClass(BaseModal,[{key:'componentDidMount',value:function componentDidMount(){if(this.props.visible){this.show();}BackHandler.addEventListener(HARDWARE_BACK_PRESS_EVENT,this.onHardwareBackPress);}},{key:'componentDidUpdate',value:function componentDidUpdate(prevProps){if(this.props.visible!==prevProps.visible){if(this.props.visible){this.show();return;}this.dismiss();}}},{key:'componentWillUnmount',value:function componentWillUnmount(){BackHandler.removeEventListener(HARDWARE_BACK_PRESS_EVENT,this.onHardwareBackPress);}},{key:'show',value:function show(){var _this2=this;this.setState({modalState:MODAL_OPENING},function(){_this2.state.modalAnimation.in(function(){_this2.setState({modalState:MODAL_OPENED},_this2.props.onShow);});});}},{key:'dismiss',value:function dismiss(){var _this3=this;this.setState({modalState:MODAL_CLOSING},function(){if(_this3.isSwipingOut){_this3.setState({modalState:MODAL_CLOSED},_this3.props.onDismiss);return;}_this3.state.modalAnimation.out(function(){_this3.setState({modalState:MODAL_CLOSED},_this3.props.onDismiss);});});}},{key:'render',value:function render(){var _this4=this;var _state=this.state,modalState=_state.modalState,modalAnimation=_state.modalAnimation;var _props=this.props,rounded=_props.rounded,modalTitle=_props.modalTitle,children=_props.children,onTouchOutside=_props.onTouchOutside,hasOverlay=_props.hasOverlay,modalStyle=_props.modalStyle,animationDuration=_props.animationDuration,overlayOpacity=_props.overlayOpacity,useNativeDriver=_props.useNativeDriver,overlayBackgroundColor=_props.overlayBackgroundColor,style=_props.style,footer=_props.footer,onSwiping=_props.onSwiping,onSwipeRelease=_props.onSwipeRelease,onSwipeOut=_props.onSwipeOut,swipeDirection=_props.swipeDirection,swipeThreshold=_props.swipeThreshold;var overlayVisible=hasOverlay&&[MODAL_OPENING,MODAL_OPENED].includes(modalState);var round=rounded?styles.round:null;var hidden=modalState===MODAL_CLOSED&&styles.hidden;return _react2.default.createElement(_ModalContext2.default.Provider,{value:{hasTitle:Boolean(modalTitle),hasFooter:Boolean(footer)},__source:{fileName:_jsxFileName,lineNumber:225}},_react2.default.createElement(_reactNative.View,{pointerEvents:this.isSwipingOut?'none':'auto',style:[styles.container,hidden],__source:{fileName:_jsxFileName,lineNumber:231}},_react2.default.createElement(_DraggableView2.default,{style:_reactNative.StyleSheet.flatten([styles.draggableView,style]),onMove:this.handleMove,onSwiping:onSwiping,onRelease:onSwipeRelease,onSwipingOut:this.handleSwipingOut,onSwipeOut:onSwipeOut,swipeDirection:swipeDirection,swipeThreshold:swipeThreshold,__source:{fileName:_jsxFileName,lineNumber:232}},function(_ref){var pan=_ref.pan,onLayout=_ref.onLayout;return _react2.default.createElement(_react.Fragment,{__source:{fileName:_jsxFileName,lineNumber:243}},_react2.default.createElement(_Backdrop2.default,{ref:function ref(_ref2){_this4.backdrop=_ref2;},pointerEvents:_this4.pointerEvents,visible:overlayVisible,onPress:onTouchOutside,backgroundColor:overlayBackgroundColor,opacity:overlayOpacity,animationDuration:animationDuration,useNativeDriver:useNativeDriver,__source:{fileName:_jsxFileName,lineNumber:244}}),_react2.default.createElement(_reactNative.Animated.View,{style:pan.getLayout(),onLayout:onLayout,__source:{fileName:_jsxFileName,lineNumber:256}},_react2.default.createElement(_reactNative.Animated.View,{style:[styles.modal,round,_this4.modalSize,modalStyle,modalAnimation.getAnimations()],__source:{fileName:_jsxFileName,lineNumber:260}},modalTitle,children,footer)));})));}},{key:'pointerEvents',get:function get(){var overlayPointerEvents=this.props.overlayPointerEvents;var modalState=this.state.modalState;if(overlayPointerEvents){return overlayPointerEvents;}return modalState===MODAL_OPENED?'auto':'none';}},{key:'modalSize',get:function get(){var _Dimensions$get=_reactNative.Dimensions.get('window'),screenWidth=_Dimensions$get.width,screenHeight=_Dimensions$get.height;var _props2=this.props,width=_props2.width,height=_props2.height;if(width&&width>0.0&&width<=1.0){width*=screenWidth;}if(height&&height>0.0&&height<=1.0){height*=screenHeight;}return{width:width,height:height};}}]);return BaseModal;}(_react.Component);BaseModal.defaultProps={rounded:true,modalTitle:null,visible:false,style:null,animationDuration:DEFAULT_ANIMATION_DURATION,modalStyle:null,width:null,height:null,onTouchOutside:function onTouchOutside(){},onHardwareBackPress:function onHardwareBackPress(){return false;},hasOverlay:true,overlayOpacity:0.5,overlayPointerEvents:null,overlayBackgroundColor:'#000',onShow:function onShow(){},onDismiss:function onDismiss(){},footer:null,onMove:function onMove(){},onSwiping:function onSwiping(){},onSwipeRelease:function onSwipeRelease(){},onSwipingOut:function onSwipingOut(){},useNativeDriver:true};BaseModal.propTypes=babelPluginFlowReactPropTypes_proptype_ModalProps;exports.default=BaseModal;"]},"metadata":{},"sourceType":"script"}