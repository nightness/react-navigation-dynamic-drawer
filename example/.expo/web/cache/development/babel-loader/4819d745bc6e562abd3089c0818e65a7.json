{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\JoshG\\\\OneDrive\\\\Projects\\\\react-navigation-dynamic-drawer\\\\navigation\\\\DrawerContent.tsx\";\n\nimport React, { useContext, useEffect } from 'react';\nimport { DrawerContentScrollView } from '@react-navigation/drawer';\nimport { DrawerContext } from \"./DrawerContext\";\nimport DrawerContentItem from \"./DrawerContentItem\";\nimport { SafeAreaView } from 'react-native-safe-area-context';\nimport View from \"react-native-web/dist/exports/View\";\nexport var DrawerContent = function DrawerContent(props) {\n  var _useContext = useContext(DrawerContext),\n      badges = _useContext.badges,\n      screens = _useContext.screens,\n      setDrawerContent = _useContext.setDrawerContent,\n      ScreenManager = _useContext.ScreenManager;\n\n  var state = props.state,\n      navigation = props.navigation;\n  var routeNames = state.routeNames,\n      routes = state.routes;\n\n  var navigateTo = function navigateTo(screenName) {\n    navigation.closeDrawer();\n    navigation.navigate(screenName);\n  };\n\n  var parentStack = [];\n  var currentDepth = 0;\n  useEffect(function () {\n    setDrawerContent(navigation, state);\n  });\n  return React.createElement(SafeAreaView, {\n    style: {\n      flex: 1\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }\n  }, React.createElement(DrawerContentScrollView, _extends({\n    bounces: false\n  }, props, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 13\n    }\n  }), routeNames.map(function (routeName, routeIndex) {\n    var _routes$filter, _parentStack$;\n\n    var currentRoute = (_routes$filter = routes.filter(function (value) {\n      return value.name === routeName;\n    })) == null ? void 0 : _routes$filter[0];\n    var params = currentRoute.params;\n    var _screens$routeIndex = screens[routeIndex],\n        label = _screens$routeIndex.label,\n        depth = _screens$routeIndex.depth,\n        isHidden = _screens$routeIndex.isHidden;\n\n    if (depth > currentDepth) {\n      currentDepth++;\n      parentStack.push(screens[routeIndex - 1]);\n    } else if (depth < currentDepth) {\n      currentDepth--;\n      parentStack.pop();\n    }\n\n    var theHidden = parentStack.filter(function (item) {\n      return item.isHidden;\n    });\n    var isVisible = !isHidden && !((_parentStack$ = parentStack[0]) != null && _parentStack$.isCollapsed) && (depth === 0 || theHidden.length === 0);\n    if (!isVisible) return React.createElement(View, {\n      key: routeName + \"-\" + Math.random(),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 33\n      }\n    });\n    return React.createElement(DrawerContentItem, _extends({}, props, {\n      activeTintColor: params == null ? void 0 : params.activeTintColor,\n      inactiveTintColor: params == null ? void 0 : params.inactiveTintColor,\n      labelText: label,\n      iconGroup: params == null ? void 0 : params.iconGroup,\n      iconName: params == null ? void 0 : params.iconName,\n      focusedIconName: params == null ? void 0 : params.focusedIconName,\n      onPress: function onPress() {\n        return navigateTo(routeName);\n      },\n      key: \"route-\" + routeName + \"-\" + Math.random(),\n      badgeText: badges[routeName],\n      style: {\n        marginLeft: 15 * depth\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 25\n      }\n    }));\n  })));\n};","map":{"version":3,"sources":["C:/Users/JoshG/OneDrive/Projects/react-navigation-dynamic-drawer/navigation/DrawerContent.tsx"],"names":["React","useContext","useEffect","DrawerContentScrollView","DrawerContext","DrawerContentItem","SafeAreaView","DrawerContent","props","badges","screens","setDrawerContent","ScreenManager","state","navigation","routeNames","routes","navigateTo","screenName","closeDrawer","navigate","parentStack","currentDepth","flex","map","routeName","routeIndex","currentRoute","filter","value","name","params","label","depth","isHidden","push","pop","theHidden","item","isVisible","isCollapsed","length","Math","random","activeTintColor","inactiveTintColor","iconGroup","iconName","focusedIconName","marginLeft"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from 'react'\r\nimport {\r\n    DrawerContentScrollView,\r\n    DrawerContentComponentProps,\r\n} from '@react-navigation/drawer'\r\nimport { DrawerContext } from './DrawerContext'\r\nimport DrawerContentItem from './DrawerContentItem'\r\nimport { NavigationElements, NavigationParams } from './NavigationTypes'\r\nimport { SafeAreaView } from 'react-native-safe-area-context'\r\nimport { View } from 'react-native'\r\n\r\nexport const DrawerContent = (props: DrawerContentComponentProps) => {\r\n    const { badges, screens, setDrawerContent, ScreenManager } = useContext(DrawerContext)\r\n    const { state, navigation } = props;\r\n    const { routeNames, routes } = state\r\n    const navigateTo = (screenName: string) => {\r\n        navigation.closeDrawer()\r\n        navigation.navigate(screenName)\r\n    }\r\n\r\n    let parentStack: NavigationElements = []\r\n    let currentDepth = 0\r\n\r\n    useEffect(() => {\r\n        setDrawerContent(navigation, state)\r\n    })\r\n\r\n    return (\r\n        <SafeAreaView style={{ flex: 1 }}>\r\n            <DrawerContentScrollView bounces={false} {...props}>\r\n                {routeNames.map((routeName, routeIndex) => {\r\n                    const currentRoute = routes.filter(value => value.name === routeName)?.[0]\r\n                    const params = currentRoute.params as NavigationParams\r\n                    const { label, depth, isHidden } = screens[routeIndex]                    \r\n                    if (depth > currentDepth) {\r\n                        currentDepth++\r\n                        parentStack.push(screens[routeIndex - 1])\r\n                    }\r\n                    else if (depth < currentDepth) {\r\n                        currentDepth--\r\n                        parentStack.pop()\r\n                    }\r\n                    const theHidden = parentStack.filter((item) => item.isHidden)\r\n                    const isVisible =\r\n                        !isHidden &&\r\n                        !parentStack[0]?.isCollapsed &&\r\n                        (depth === 0 || theHidden.length === 0)\r\n                    \r\n                    if (!isVisible)\r\n                        return (<View key={`${routeName}-${Math.random()}`}></View>)\r\n \r\n                    return (\r\n                        <DrawerContentItem\r\n                            {...props}\r\n                            activeTintColor={params?.activeTintColor}\r\n                            inactiveTintColor={params?.inactiveTintColor}\r\n                            labelText={label}\r\n                            iconGroup={params?.iconGroup}\r\n                            iconName={params?.iconName}\r\n                            focusedIconName={params?.focusedIconName}\r\n                            onPress={() => navigateTo(routeName)}\r\n                            key={`route-${routeName}-${Math.random()}`}\r\n                            badgeText={badges[routeName] as string}\r\n                            style={{ marginLeft: (15 * depth) }}  // ToDo\r\n                        />\r\n                    )\r\n                })}\r\n            </DrawerContentScrollView>\r\n        </SafeAreaView>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}